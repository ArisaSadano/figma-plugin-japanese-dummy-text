
<input id="count" value="3">
<select id="text-unit">
  <option value="word">語</option>
  <option value="sentence">文</option>
  <option value="para">段落</option>
</select>
<button id="generate">Generate</button>

<p>テキストボックスの大きさに合わせてダミーテキストを流し込む</p>
<button>Auto-generate</button>

<script>

document.getElementById('generate').onclick = () => {

  const textbox = document.getElementById('count');
  const count = parseInt(textbox.value, 10);
  // parent.postMessage({ pluginMessage: { type: 'generate-texts', count } }, '*')

  const getUnit = document.getElementById('text-unit');
  const word = getUnit.options[0].selected;
  const sentence = getUnit.options[1].selected;
  const para = getUnit.options[2].selected;

  if (word) {
    parent.postMessage({ pluginMessage: { type: 'word-selected', word, count } }, '*')
  } else if (sentence) {
    parent.postMessage({ pluginMessage: { type: 'sentence-selected', sentence, count } }, '*')
  } else {
    parent.postMessage({ pluginMessage: { type: 'para-selected', para, count } }, '*')
  }
}

// コードを簡単にする
// 言葉の分類ごとだけでなく、テキストボックスの有無も判定することを忘れずに記述する
// 選択中のツールを判定する方法
// テキストボックスのサイズを読み込む方法（height？）
// currentpage.selectionの必要性（なくすと吐き出されたテキストの選択がなくなる）
// プラグインメッセージのもっと自由度の高い活用方法はないか調べる


</script>
